---
highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
mdc: true
layout: center
glowSeed: 4
lang: zh-CN
title: åŸºé‡‘æŠ•èµ„åŠ©æ‰‹ - ç”¨ Nuxt æ‰“é€ ä½ çš„å…¨æ ˆæŠ•èµ„çœ‹æ¿
---

<div flex="~ col" items-center>
  <div flex="~" items-center gap-4>
    <img src="/logo.svg" class="w-18 h-18 -mt-4"/>
    <h1 class="text-6xl! font-serif! important-mb-0!">åŸºé‡‘æŠ•èµ„åŠ©æ‰‹</h1>
  </div>
  <p v-after class="text-2xl! op75 mt-2">
    ä¸€ä¸ªå¼€æºçš„å…¨æ ˆåŸºé‡‘æŠ•èµ„çœ‹æ¿
  </p>
</div>

<div abs-br mx-10 my-11 flex="~ col gap-2 items-end" text-left op75>
  <span>Bilibili @çˆ±åƒåŒ…å­çš„è¶…</span>
  <a href="https://github.com/lanseria/fund-investment-assistant" target="_blank" class="text-sm border-none! font-300">
    github.com/lanseria/fund-investment-assistant
  </a>
</div>

<!--
å“ˆå–½å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯çˆ±åƒåŒ…å­çš„è¶…ã€‚
ä»Šå¤©éå¸¸é«˜å…´èƒ½åœ¨è¿™é‡Œå’Œå¤§å®¶åˆ†äº«æˆ‘æœ€è¿‘åšçš„ä¸€ä¸ªå¼€æºé¡¹ç›®â€”â€”åŸºé‡‘æŠ•èµ„åŠ©æ‰‹ã€‚
ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªä½ å¯ä»¥è‡ªå·±éƒ¨ç½²ã€å®Œå…¨æŒæ§çš„å…¨æ ˆåŸºé‡‘æŠ•èµ„çœ‹æ¿ã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œæ—¢æ˜¯æŠ•èµ„è€…ï¼Œä¹Ÿæ˜¯ä¸ªå–œæ¬¢æŠ˜è…¾æŠ€æœ¯çš„å¼€å‘è€…ï¼Œé‚£ä¹ˆç›¸ä¿¡ä»Šå¤©çš„å†…å®¹ä½ ä¸€å®šä¼šæ„Ÿå…´è¶£ã€‚
-->

---
layout: intro
class: pl-30
---

# æˆ‘æ˜¯ [çˆ±åƒåŒ…å­çš„è¶…]

<div class="[&>*]:important-leading-10 opacity-80">

å…¨æ ˆå¼€å‘è€… <br>
{Vue} {Nuxt} {TypeScript} çˆ±å¥½è€…<br>
çƒ­è¡·äºæŠ˜è…¾å„ç§å¼€æºé¡¹ç›®<br>

</div>

<div my-10 flex="~ gap-8" items-center>
  <a href="https://github.com/lanseria" target="_blank" class="flex items-center gap-2 border-none! font-300">
    <div i-ri-github-line op50 text-2xl />
    <span text-lg>lanseria</span>
  </a>
  <a href="https://space.bilibili.com/8487409" target="_blank" class="flex items-center gap-2 border-none! font-300">
    <div i-ri-bilibili-line op50 text-2xl/>
    <span text-lg ws-nowrap>çˆ±åƒåŒ…å­çš„è¶…</span>
  </a>
</div>

<img src="https://avatars.githubusercontent.com/u/14802764?v=4" absolute top-36 right-30 w-40 rounded-full />

<!--
åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œè¯·å…è®¸æˆ‘ç®€å•ä»‹ç»ä¸€ä¸‹è‡ªå·±ã€‚
æˆ‘æ˜¯ä¸€åå…¨æ ˆå¼€å‘è€…ï¼Œä¹Ÿæ˜¯ Vueã€Nuxt å’Œ TypeScript çš„å¿ å®çˆ±å¥½è€…ã€‚å¹³æ—¶æœ€å¤§çš„ä¹è¶£å°±æ˜¯æŠŠä¸€äº›æƒ³æ³•é€šè¿‡ä»£ç å®ç°å‡ºæ¥ï¼Œå¹¶ä¸”çƒ­è¡·äºå‚ä¸å’Œåˆ†äº«å„ç§å¼€æºé¡¹ç›®ã€‚
å¤§å®¶å¯ä»¥åœ¨ Bilibili å’Œ GitHub ä¸Šé€šè¿‡â€œçˆ±åƒåŒ…å­çš„è¶…â€æˆ–è€…â€œlanseriaâ€æ‰¾åˆ°æˆ‘ã€‚æˆ‘ä¼šåœ¨è¿™äº›å¹³å°åˆ†äº«ä¸€äº›æŠ€æœ¯å’Œé¡¹ç›®å¿ƒå¾—ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨å’Œäº¤æµã€‚
-->

---
layout: center
---

# ğŸ˜« æˆ‘ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªé¡¹ç›®ï¼Ÿ

<div
  class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10 text-left text-lg"
>
<div v-click class="p-6 rounded-lg bg-gray-400/10">
<div class="text-3xl text-red-400 i-carbon-calculation-alt mb-3"></div>
<h3 class="font-bold mb-2">æ‰‹åŠ¨è®°è´¦å¤ªéº»çƒ¦</h3>
<p class="text-base opacity-80">
ç”¨ Excel æˆ–è®°è´¦è½¯ä»¶è®°å½•åŸºé‡‘ä¹°å–ï¼Œä¸ä»…ç¹çæ˜“é”™ï¼Œè€Œä¸”æ— æ³•ç›´è§‚çœ‹åˆ°å®æ—¶æ”¶ç›Šã€‚
</p>
</div>

<div v-click class="p-6 rounded-lg bg-gray-400/10">
<div class="text-3xl text-yellow-400 i-carbon-ibm-consulting-advantage-application mb-3"></div>
<h3 class="font-bold mb-2">å®˜æ–¹Appå¤ªè‡ƒè‚¿</h3>
<p class="text-base opacity-80">
å—ä¸äº†å„ç§ç†è´¢Appçš„å¹¿å‘Šè½°ç‚¸å’Œä¿¡æ¯è¿‡è½½ï¼Œæˆ‘åªæƒ³è¦ä¸€ä¸ªçº¯ç²¹ã€å¹²å‡€ã€èšç„¦äºæˆ‘æŒä»“çš„çœ‹æ¿ã€‚
</p>
</div>

<div v-click class="p-6 rounded-lg bg-gray-400/10">
<div class="text-3xl text-teal-400 i-carbon-code mb-3"></div>
<h3 class="font-bold mb-2">æƒ³è‡ªå·±å®è·µæŠ€æœ¯</h3>
<p class="text-base opacity-80">
æƒ³ç”¨ Nuxt 3 æä¸€ä¸ªå…¨æ ˆé¡¹ç›®ï¼ŒæŠŠå‰ç«¯ã€åç«¯ã€æ•°æ®åº“ã€å®šæ—¶ä»»åŠ¡ã€è®¤è¯éƒ½ä¸²èµ·æ¥ï¼Œç»ƒç»ƒæ‰‹ï¼
</p>
</div>
</div>

<!--
å¥½ï¼Œé‚£æˆ‘ä»¬å›åˆ°æ­£é¢˜ã€‚æˆ‘å½“åˆä¸ºä»€ä¹ˆè¦åšè¿™ä¹ˆä¸€ä¸ªé¡¹ç›®å‘¢ï¼Ÿä¸»è¦æœ‰ä¸‰ä¸ªç—›ç‚¹ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬ä¸€é¡¹)
é¦–å…ˆï¼Œæ‰‹åŠ¨è®°è´¦å¤ªéº»çƒ¦äº†ã€‚åœ¨åº§çš„å„ä½å¯èƒ½ä¹Ÿæœ‰è¿‡ç±»ä¼¼çš„ç»å†ï¼Œç”¨ Excel æˆ–è€…ä¸€äº›è®°è´¦è½¯ä»¶æ¥è®°å½•æ¯ä¸€ç¬”åŸºé‡‘çš„ä¹°å…¥å’Œå–å‡ºã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä»…éå¸¸ç¹çï¼Œå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”æœ€å¤§çš„é—®é¢˜æ˜¯ï¼Œå®ƒæ— æ³•è®©æˆ‘ç›´è§‚åœ°çœ‹åˆ°å®æ—¶çš„æ”¶ç›Šæƒ…å†µã€‚æ¯å¤©çš„æ¶¨è·Œï¼Œæˆ‘è¿˜æ˜¯å¾—æ‰“å¼€å¦å¤–çš„è½¯ä»¶å»çœ‹ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬äºŒé¡¹)
å…¶æ¬¡ï¼Œå®˜æ–¹çš„ App å¤ªè‡ƒè‚¿äº†ã€‚ä¸ç®¡æ˜¯æ”¯ä»˜å®è¿˜æ˜¯å¤©å¤©åŸºé‡‘ï¼Œæ‰“å¼€åº”ç”¨ï¼Œè¿é¢è€Œæ¥çš„å°±æ˜¯å„ç§å¹¿å‘Šã€ç†è´¢æ¨èå’Œä¿¡æ¯æµï¼Œä¿¡æ¯è¿‡è½½éå¸¸ä¸¥é‡ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘çœŸçš„åªæ˜¯æƒ³å®‰å®‰é™é™åœ°çœ‹ä¸€çœ¼æˆ‘çš„æŒä»“ï¼Œåªæƒ³å…³æ³¨æˆ‘è‡ªå·±çš„é‚£å‡ åªåŸºé‡‘ï¼Œè€Œä¸æ˜¯è¢«å„ç§ä¿¡æ¯è½°ç‚¸ã€‚æˆ‘æƒ³è¦ä¸€ä¸ªçº¯ç²¹ã€å¹²å‡€ã€åªå±äºæˆ‘çš„æŠ•èµ„çœ‹æ¿ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬ä¸‰é¡¹)
æœ€åï¼Œä¹Ÿæ˜¯å¯¹æˆ‘ä¸ªäººè€Œè¨€æœ€é‡è¦çš„ä¸€ä¸ªåŸå› â€”â€”æˆ‘æƒ³è‡ªå·±å®è·µæŠ€æœ¯ã€‚æˆ‘ä¸€ç›´æƒ³ç”¨ Nuxt 3 æ¥å®Œæ•´åœ°æ„å»ºä¸€ä¸ªå…¨æ ˆé¡¹ç›®ï¼ŒæŠŠå‰ç«¯ã€åç«¯ APIã€æ•°æ®åº“ã€å®šæ—¶ä»»åŠ¡ï¼Œç”šè‡³æ˜¯ç”¨æˆ·è®¤è¯è¿™äº›ç¯èŠ‚å…¨éƒ¨ä¸²è”èµ·æ¥ã€‚è¿™å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªç»ä½³çš„ç»ƒæ‰‹æœºä¼šï¼Œä¹Ÿæ˜¯ä¸€ä¸ªèƒ½è§£å†³è‡ªå·±å®é™…é—®é¢˜çš„æœ‰è¶£æŒ‘æˆ˜ã€‚
-->

---
layout: center
class: text-center
glowOpacity: 0.1
---

# âœ¨ é¡¹ç›®åŠŸèƒ½ä¸€è§ˆ

<div grid="~ cols-2 md:cols-3 gap-4" py8 text-left>
  <div v-click flex="~ col gap-1" p4 rounded bg-teal:15 text-teal1>
    <div text-3xl i-carbon-dashboard-reference mb2 />
    <div>æ¸…æ™°ä»ªè¡¨ç›˜</div>
    <div text-xs op60>å®æ—¶æ±‡æ€»æ€»èµ„äº§ã€æ€»ç›ˆäºå’ŒæŒä»“åˆ—è¡¨ã€‚</div>
  </div>
  <div v-click flex="~ col gap-1" p4 rounded bg-blue:15 text-blue1>
    <div text-3xl i-carbon-chart-line-data mb2 />
    <div>äº¤äº’å¼å›¾è¡¨</div>
    <div text-xs op60>åŸºäº ECharts çš„å†å²å‡€å€¼ã€MAå‡çº¿å’Œç­–ç•¥ä¿¡å·å±•ç¤ºã€‚</div>
  </div>
  <div v-click flex="~ col gap-1" p4 rounded bg-violet:15 text-violet1>
    <div text-3xl i-carbon-edit mb2 />
    <div>æŒä»“ç®¡ç†</div>
    <div text-xs op60>é€šè¿‡ç¾è§‚çš„æ¨¡æ€æ¡†å¢ã€åˆ ã€æ”¹åŸºé‡‘æŒä»“ã€‚</div>
  </div>
  <div v-click flex="~ col gap-1" p4 rounded bg-orange:15 text-orange1>
    <div text-3xl i-carbon-moon mb2 />
    <div>ä¸»é¢˜åˆ‡æ¢</div>
    <div text-xs op60>æ”¯æŒäº®/æš—è‰²æ¨¡å¼å’Œå¤šç§ä¸»é¢˜è‰²ï¼Œé€‚é…ä½ çš„å®¡ç¾ã€‚</div>
  </div>
  <div v-click flex="~ col gap-1" p4 rounded bg-lime:15 text-lime1>
    <div text-3xl i-carbon-document-import mb2 />
    <div>æ•°æ®å¤‡ä»½</div>
    <div text-xs op60>æ”¯æŒé€šè¿‡ JSON æ–‡ä»¶ä¸€é”®å¯¼å…¥/å¯¼å‡ºæŒä»“æ•°æ®ã€‚</div>
  </div>
  <div v-click flex="~ col gap-1" p4 rounded bg-yellow:15 text-yellow1>
    <div text-3xl i-twemoji-1st-place-medal mb2 />
    <div>æ”¶ç›Šç‡æ’è¡Œ</div>
    <div text-xs op60>åŒ¿ååŒ–çš„ç”¨æˆ·æ”¶ç›Šç‡æ’è¡Œæ¦œï¼Œçœ‹çœ‹å¤§ä½¬è¡¨ç°ã€‚</div>
  </div>
</div>

<!--
åŸºäºè¿™äº›ç—›ç‚¹ï¼Œæˆ‘å¼€å‘äº†â€œåŸºé‡‘æŠ•èµ„åŠ©æ‰‹â€ï¼Œå®ƒä¸»è¦åŒ…å«äº†è¿™äº›æ ¸å¿ƒåŠŸèƒ½ï¼š
(é€ä¸ªç‚¹å‡»ï¼Œä»‹ç»åŠŸèƒ½)
æ¸…æ™°çš„ä»ªè¡¨ç›˜ï¼šä¸€æ‰“å¼€åº”ç”¨ï¼Œä½ å°±èƒ½çœ‹åˆ°æ‰€æœ‰æŒä»“çš„æ€»èµ„äº§ã€æ€»ç›ˆäºï¼Œä»¥åŠä¸€ä¸ªæ¸…æ™°çš„æŒä»“åˆ—è¡¨ï¼Œæ‰€æœ‰å…³é”®ä¿¡æ¯ä¸€ç›®äº†ç„¶ã€‚
äº¤äº’å¼å›¾è¡¨ï¼šæˆ‘ä»¬ä¸ºæ¯åªåŸºé‡‘éƒ½æä¾›äº†åŸºäº ECharts çš„æ·±åº¦åˆ†æå›¾è¡¨ï¼ŒåŒ…æ‹¬å†å²å‡€å€¼ã€MA å‡çº¿ï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›ç­–ç•¥ä¿¡å·çš„å±•ç¤ºã€‚
æŒä»“ç®¡ç†ï¼šå½“ç„¶ï¼Œä½ å¯ä»¥éå¸¸æ–¹ä¾¿åœ°é€šè¿‡ä¸€ä¸ªç¾è§‚çš„æ¨¡æ€æ¡†æ¥å¢åŠ ã€åˆ é™¤æˆ–è€…ä¿®æ”¹ä½ çš„åŸºé‡‘æŒä»“è®°å½•ã€‚
ä¸»é¢˜åˆ‡æ¢ï¼šä¸ºäº†æ»¡è¶³ä¸åŒçš„å®¡ç¾ï¼Œé¡¹ç›®å†…ç½®äº†äº®è‰²å’Œæš—è‰²æ¨¡å¼ï¼Œå¹¶ä¸”æ”¯æŒå¤šç§ä¸»é¢˜è‰²ï¼Œè®©ç•Œé¢æ›´å¥½çœ‹ã€‚
æ•°æ®å¤‡ä»½ï¼šä½ çš„æ•°æ®å®Œå…¨ç”±ä½ æŒæ§ã€‚æˆ‘ä»¬æ”¯æŒé€šè¿‡ JSON æ–‡ä»¶ä¸€é”®å¯¼å…¥å’Œå¯¼å‡ºæ‰€æœ‰çš„æŒä»“æ•°æ®ï¼Œæ–¹ä¾¿è¿ç§»å’Œå¤‡ä»½ã€‚
æ”¶ç›Šç‡æ’è¡Œï¼šæœ€åï¼Œæˆ‘è¿˜åšäº†ä¸€ä¸ªå¥½ç©çš„åŠŸèƒ½ï¼Œä¸€ä¸ªåŒ¿ååŒ–çš„ç”¨æˆ·æ”¶ç›Šç‡æ’è¡Œæ¦œï¼Œå¯ä»¥çœ‹çœ‹ç¤¾åŒºé‡Œçš„å¤§ä½¬ä»¬è¡¨ç°å¦‚ä½•ï¼Œæ¿€åŠ±ä¸€ä¸‹è‡ªå·±ã€‚
-->

---
layout: default
glowOpacity: 0.1
glow: top
---

# æ ¸å¿ƒä»ªè¡¨ç›˜

<img src="/demo/dashboard.png" class="rounded-lg shadow-lg mt-4" />

<div v-click class="absolute top-100 left-30 p-2 bg-black/60 rounded text-white text-sm">æ¸…æ™°çš„è¡¨æ ¼å¸ƒå±€</div>
<div v-click class="absolute top-45 right-30 p-2 bg-black/60 rounded text-white text-sm">SSE å®æ—¶ä¼°å€¼æ›´æ–° ğŸŸ¢</div>
<div v-click class="absolute top-52 left-100 p-2 bg-black/60 rounded text-white text-sm">è‡ªå®šä¹‰æ’åº</div>
<div v-click class="absolute bottom-5 left-100 p-2 bg-black/60 rounded text-white text-sm">ç­–ç•¥ä¿¡å· Tag</div>

<!--
æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹é¡¹ç›®çš„æ ¸å¿ƒç•Œé¢â€”â€”ä»ªè¡¨ç›˜ã€‚
è¿™å°±æ˜¯ä½ ç™»å½•åçœ‹åˆ°çš„ç¬¬ä¸€ä¸ªé¡µé¢ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬ä¸€ä¸ªæ ‡æ³¨)
æ•´ä¸ªå¸ƒå±€éå¸¸æ¸…æ™°ï¼Œé‡‡ç”¨äº†å¤§å®¶æœ€ç†Ÿæ‚‰çš„è¡¨æ ¼å½¢å¼ï¼Œå±•ç¤ºäº†åŸºé‡‘ä»£ç ã€åç§°ã€æŒæœ‰ä»½é¢ã€æˆæœ¬ä»·ã€å½“å‰å‡€å€¼ã€æ—¥æ¶¨è·Œå¹…ä»¥åŠå„é¡¹ç›ˆäºæ•°æ®ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬äºŒä¸ªæ ‡æ³¨)
å¤§å®¶è¯·æ³¨æ„çœ‹â€œä»Šæ—¥ä¼°ç®—â€è¿™ä¸€åˆ—ï¼Œå®ƒåé¢æœ‰ä¸€ä¸ªç»¿è‰²çš„å°åœ†ç‚¹ã€‚è¿™ä»£è¡¨æ•°æ®æ˜¯å®æ—¶æ›´æ–°çš„ã€‚åœ¨äº¤æ˜“æ—¥çš„äº¤æ˜“æ—¶æ®µï¼Œåç«¯ä¼šå®šæ—¶å»æ‹‰å–æœ€æ–°çš„åŸºé‡‘ä¼°å€¼ï¼Œç„¶åé€šè¿‡ SSE (Server-Sent Events) æŠ€æœ¯å®æ—¶æ¨é€åˆ°å‰ç«¯ï¼Œä½ ä¸éœ€è¦åˆ·æ–°é¡µé¢ï¼Œå°±èƒ½çœ‹åˆ°æ”¶ç›Šçš„è·³åŠ¨ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬ä¸‰ä¸ªæ ‡æ³¨)
æˆ‘ä»¬è¿˜æ”¯æŒäº†éå¸¸æ–¹ä¾¿çš„è‡ªå®šä¹‰æ’åºåŠŸèƒ½ï¼Œä½ å¯ä»¥ç‚¹å‡»è¡¨å¤´ï¼ŒæŒ‰æŒä»“å¸‚å€¼ã€ç´¯è®¡æ”¶ç›Šç‡ç­‰ä»»æ„ä½ å…³å¿ƒçš„æŒ‡æ ‡è¿›è¡Œæ’åºã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬å››ä¸ªæ ‡æ³¨)
æœ€åï¼Œè¡¨æ ¼æœ«å°¾è¿™ä¸ªå°å°çš„ Tagï¼Œæ¯”å¦‚â€œMAâ€ï¼Œæ˜¯æˆ‘ä»¬çš„ç­–ç•¥ä¿¡å·ã€‚å®ƒä¼šæ ¹æ®ä½ è®¾ç½®çš„æŠ•èµ„ç­–ç•¥ï¼Œç»™ä½ ä¸€äº›ç®€å•çš„æç¤ºã€‚
-->

---
layout: default
---

# æ·±åº¦ç­–ç•¥åˆ†æ

<img src="/demo/fund-detail.png" class="rounded-lg shadow-lg mt-4" />


<div v-click class="absolute top-60 left-30 p-2 bg-black/60 rounded text-white text-sm">ECharts é©±åŠ¨</div>
<div v-click class="absolute top-50 right-30 p-2 bg-black/60 rounded text-white text-sm">ä¹°(B)/å–(S)ä¿¡å·æ ‡è®°</div>
<div v-click class="absolute bottom-20 left-30 p-2 bg-black/60 rounded text-white text-sm">åŠ¨æ€æ—¶é—´èŒƒå›´é€‰æ‹©</div>
<div v-click class="absolute top-80 right-30 p-2 bg-black/60 rounded text-white text-sm">æ”¯æŒå¤šç§ç­–ç•¥å›¾è¡¨</div>

<!--
å½“ä½ ç‚¹å‡»ä»ªè¡¨ç›˜ä¸Šçš„ä»»æ„ä¸€åªåŸºé‡‘ï¼Œå°±ä¼šè¿›å…¥åˆ°è¿™ä¸ªæ·±åº¦ç­–ç•¥åˆ†æé¡µé¢ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬ä¸€ä¸ªæ ‡æ³¨)
è¿™ä¸ªäº¤äº’å¼çš„å›¾è¡¨æ˜¯åŸºäºå¼ºå¤§çš„ ECharts åº“æ¥é©±åŠ¨çš„ï¼Œæä¾›äº†éå¸¸æµç•…çš„ç¼©æ”¾å’Œæ‹–æ‹½ä½“éªŒã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬äºŒä¸ªæ ‡æ³¨)
å¤§å®¶å¯ä»¥çœ‹åˆ°å›¾ä¸Šæœ‰ä¸€äº› Bç‚¹ å’Œ Sç‚¹ çš„æ ‡è®°ã€‚è¿™æ˜¯æˆ‘å†…ç½®çš„ä¸€äº›ç®€å•äº¤æ˜“ç­–ç•¥ï¼Œæ¯”å¦‚å‡çº¿ç­–ç•¥ï¼Œè®¡ç®—å‡ºçš„ç†è®º**ä¹°å…¥ï¼ˆBuyï¼‰å’Œå–å‡ºï¼ˆSellï¼‰**ä¿¡å·ã€‚è¿™å¯ä»¥ä¸ºæˆ‘ä»¬çš„æŠ•èµ„å†³ç­–æä¾›ä¸€äº›æ•°æ®å‚è€ƒã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬ä¸‰ä¸ªæ ‡æ³¨)
åº•éƒ¨æœ‰ä¸€ä¸ªåŠ¨æ€æ—¶é—´èŒƒå›´é€‰æ‹©å™¨ï¼Œä½ å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹æœ€è¿‘ä¸€ä¸ªæœˆã€ä¸‰ä¸ªæœˆï¼Œæˆ–è€…ä»»æ„è‡ªå®šä¹‰æ—¶é—´èŒƒå›´å†…çš„åŸºé‡‘èµ°åŠ¿ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç¬¬å››ä¸ªæ ‡æ³¨)
å½“ç„¶ï¼Œé™¤äº†åŸºç¡€çš„Kçº¿å’Œå‡çº¿ï¼Œæˆ‘ä»¬è¿˜æ”¯æŒåˆ‡æ¢å¤šç§ä¸åŒçš„ç­–ç•¥å›¾è¡¨ï¼Œæ¯”å¦‚å¸ƒæ—å¸¦ã€MACDç­‰ç­‰ï¼Œæ¥æ»¡è¶³æ›´ä¸“ä¸šçš„åˆ†æéœ€æ±‚ã€‚
-->

---
layout: default
---

# é¢œå€¼å³æ­£ä¹‰ï¼šä¸»é¢˜åˆ‡æ¢

<div class="grid grid-cols-2 gap-8 mt-4">
  <div v-click>
    <h3 class="text-center mb-2">äº®è‰²æ¨¡å¼ â˜€ï¸</h3>
    <img src="/demo/light-mode.png" class="rounded-lg shadow-lg" />
  </div>
  <div v-click>
    <h3 class="text-center mb-2">æš—è‰²æ¨¡å¼ ğŸŒ™</h3>
    <img src="/demo/dark-mode.png" class="rounded-lg shadow-lg" />
  </div>
</div>

<div v-click class="absolute bottom-10 left-1/2 -translate-x-1/2 p-2 bg-black/60 rounded text-white text-sm flex items-center">
  <div i-carbon-color-palette mr-2 />
  <span>è¿˜æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜è‰²å“¦ï¼</span>
</div>

<!--
ä½œä¸ºä¸€ä¸ªé¢œæ§ï¼Œæˆ‘è®¤ä¸ºåº”ç”¨çš„é¢œå€¼ä¹Ÿéå¸¸é‡è¦ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°äº®è‰²æ¨¡å¼)
æ‰€ä»¥ï¼Œé¡¹ç›®é»˜è®¤æä¾›äº†ä¸€å¥—æ¸…çˆ½çš„äº®è‰²æ¨¡å¼ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°æš—è‰²æ¨¡å¼)
åŒæ—¶ä¹Ÿä¸ºå–œæ¬¢åœ¨å¤œé—´ä½¿ç”¨çš„æœ‹å‹ä»¬å‡†å¤‡äº†ç°åœ¨éå¸¸æµè¡Œçš„æš—è‰²æ¨¡å¼ã€‚ä¸€é”®åˆ‡æ¢ï¼Œéå¸¸ä¸æ»‘ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°åº•éƒ¨æç¤º)
ä¸ä»…å¦‚æ­¤ï¼ä¸ºäº†æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œæˆ‘ä»¬è¿˜å†…ç½®äº†å¤šç§ä¸»é¢˜è‰²ã€‚ä½ å¯ä»¥é€‰æ‹©ä½ æœ€å–œæ¬¢çš„é¢œè‰²ï¼Œæ¯”å¦‚éªšæ°”çš„ç´«è‰²ã€æ²‰ç¨³çš„è“è‰²ï¼Œè®©è¿™ä¸ªçœ‹æ¿çœŸæ­£æˆä¸ºä½ è‡ªå·±çš„ä¸“å±å·¥å…·ã€‚
-->

---
layout: center
---

# ğŸ› ï¸ æŠ€æœ¯å…¨å®¶æ¡¶

<div grid="~ cols-1 md:cols-3 gap-x-10 gap-y-4" text-left text-lg p-6>

  <div v-click>
    <!-- [ä¿®æ”¹] ä¿®å¤äº†å›¾æ ‡å’Œæ–‡å­—çš„å¯¹é½é—®é¢˜ -->
    <h3 class="font-bold text-xl text-teal-300 mb-2 flex items-center">
      <div i-logos-nuxt-icon mr-2 />å‰ç«¯
    </h3>
    <ul class="ml-6 space-y-1">
      <li><span text-lime-400 font-bold>Nuxt 3</span> - å…¨æ ˆæ¡†æ¶</li>
      <li><span text-lime-400 font-bold>Vue 3</span> - æ ¸å¿ƒUIåº“</li>
      <li><span text-lime-400 font-bold>UnoCSS</span> - åŸå­åŒ–CSS</li>
      <li><span text-lime-400 font-bold>Pinia</span> - çŠ¶æ€ç®¡ç†</li>
      <li><span text-lime-400 font-bold>ECharts</span> - æ•°æ®å¯è§†åŒ–</li>
    </ul>
  </div>

  <div v-click>
    <!-- [ä¿®æ”¹] ä¿®å¤äº†å›¾æ ‡å’Œæ–‡å­—çš„å¯¹é½é—®é¢˜ -->
    <h3 class="font-bold text-xl text-blue-300 mb-2 flex items-center">
      <div i-carbon-server-proxy mr-2 />åç«¯ (Nitro)
    </h3>
    <ul class="ml-6 space-y-1">
      <li><span text-cyan-400 font-bold>PostgreSQL</span> - å…³ç³»å‹æ•°æ®åº“</li>
      <li><span text-cyan-400 font-bold>Drizzle</span> - TypeScript ORM</li>
      <li><span text-cyan-400 font-bold>Redis</span> - å¯†é’¥ç¼“å­˜</li>
      <li><span text-cyan-400 font-bold>PASETO</span> - å®‰å…¨Tokenè®¤è¯</li>
      <li><span text-cyan-400 font-bold>Scheduled Tasks</span> - å®šæ—¶ä»»åŠ¡</li>
    </ul>
  </div>

  <div v-click>
    <!-- [ä¿®æ”¹] ä¿®å¤äº†å›¾æ ‡å’Œæ–‡å­—çš„å¯¹é½é—®é¢˜ -->
    <h3 class="font-bold text-xl text-yellow-300 mb-2 flex items-center">
      <div i-carbon-3d-mpr-toggle mr-2 />å¼€å‘ & éƒ¨ç½²
    </h3>
    <ul class="ml-6 space-y-1">
      <li><span text-orange-400 font-bold>Vite</span> - æé€Ÿæ„å»º</li>
      <li><span text-orange-400 font-bold>pnpm</span> - åŒ…ç®¡ç†</li>
      <li><span text-orange-400 font-bold>ESLint</span> - ä»£ç è§„èŒƒ (@antfu/eslint-config)</li>
      <li><span text-orange-400 font-bold>Docker</span> - å®¹å™¨åŒ–éƒ¨ç½²</li>
    </ul>
  </div>
</div>

<!--
èŠå®Œäº†åŠŸèƒ½ï¼Œæˆ‘ä»¬å†æ·±å…¥åˆ°â€œèˆ¹èˆ±â€åº•ä¸‹ï¼Œçœ‹çœ‹è¿™ä¸ªé¡¹ç›®éƒ½ç”¨äº†å“ªäº›æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶å¸¸è¯´çš„â€œæŠ€æœ¯æ ˆâ€ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°å‰ç«¯éƒ¨åˆ†)
é¦–å…ˆæ˜¯å‰ç«¯ã€‚æ•´ä¸ªé¡¹ç›®æ˜¯åŸºäº Nuxt 3 è¿™ä¸ªå…¨æ ˆæ¡†æ¶æ„å»ºçš„ï¼Œå®ƒçš„åº•å±‚å½“ç„¶æ˜¯ Vue 3ã€‚æ ·å¼æ–¹é¢ï¼Œæˆ‘é€‰æ‹©äº†åŸå­åŒ–çš„ UnoCSSï¼Œå†™èµ·æ¥éå¸¸é«˜æ•ˆã€‚çŠ¶æ€ç®¡ç†åˆ™ç”¨äº†å®˜æ–¹æ¨èçš„ Piniaï¼Œè€Œå›¾è¡¨å°±æ˜¯åˆšæ‰æåˆ°çš„ EChartsã€‚
(ç‚¹å‡»ï¼Œå‡ºç°åç«¯éƒ¨åˆ†)
å†æ¥çœ‹åç«¯ã€‚è¿™éƒ¨åˆ†å®Œå…¨ç”± Nuxt çš„æœåŠ¡å™¨å¼•æ“ Nitro æ¥é©±åŠ¨ã€‚æ•°æ®åº“æˆ‘é€‰æ‹©äº†å¼€æºä¸”å¼ºå¤§çš„ PostgreSQLï¼Œå¹¶é€šè¿‡ Drizzle è¿™ä¸ª TypeScript ORM æ¥è¿›è¡Œäº¤äº’ï¼Œå®ƒçš„ç±»å‹å®‰å…¨åšå¾—éå¸¸æ£’ã€‚ç¼“å­˜æ–¹é¢ï¼Œæˆ‘ç”¨äº† Redis æ¥å­˜å‚¨ä¸€äº›ä¸´æ—¶æ•°æ®å’Œ Sessionã€‚ç”¨æˆ·è®¤è¯åˆ™é‡‡ç”¨äº†æ›´ç°ä»£ã€æ›´å®‰å…¨çš„ PASETO Tokenæ–¹æ¡ˆã€‚è€Œæ•°æ®çš„å®šæ—¶åŒæ­¥ï¼Œåˆ™ä¾èµ– Nitro å†…ç½®çš„å®šæ—¶ä»»åŠ¡åŠŸèƒ½ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°å¼€å‘éƒ¨ç½²éƒ¨åˆ†)
æœ€åï¼Œåœ¨å¼€å‘å’Œéƒ¨ç½²æ–¹é¢ã€‚æœ¬åœ°å¼€å‘ç”± Vite é©±åŠ¨ï¼Œé€Ÿåº¦é£å¿«ã€‚åŒ…ç®¡ç†ç”¨çš„æ˜¯ pnpmã€‚ä¸ºäº†ä¿è¯ä»£ç è´¨é‡ï¼Œæˆ‘ç”¨äº† Anthony Fu å¤§ä½¬çš„ ESLint é…ç½®ã€‚è€Œæœ€ç»ˆçš„éƒ¨ç½²ï¼Œæˆ‘æŠŠå®ƒå…¨éƒ¨å®¹å™¨åŒ–äº†ï¼Œé€šè¿‡ Docker å¯ä»¥ä¸€é”®å¯åŠ¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚
-->

---
layout: default
---

# ğŸ—ï¸ é¡¹ç›®æ¶æ„ï¼šä¸æ­¢æ˜¯å‰ç«¯

Nuxt 3 æä¾›äº†å¼ºå¤§çš„**å‰åç«¯åŒæ„**èƒ½åŠ›ï¼Œæ‰€æœ‰ä»£ç éƒ½åœ¨ä¸€ä¸ªä»“åº“é‡Œï¼

<div v-click class="mt-8 p-6 rounded-lg bg-gray-800/50 text-center">
  <div class="flex items-center justify-center gap-4 text-lg">
    <div class="p-4 rounded-md bg-blue-500/30">
      <div i-carbon-user-avatar-filled-alt text-2xl mb-2 />
      æµè§ˆå™¨
    </div>
    <div class="i-carbon-arrow-right text-3xl opacity-50" />
    <div class="p-4 rounded-md bg-teal-500/30">
      <div flex items-center gap-2>
        <div i-logos-nuxt-icon text-2xl mb-2 />
        Nuxt 3 åº”ç”¨
      </div>
      <div class="text-sm opacity-70">
        (Vueç»„ä»¶ / Pinia / Composables)
      </div>
    </div>
    <div class="i-carbon-arrows-horizontal text-3xl opacity-50" />
    <div class="p-4 rounded-md bg-violet-500/30">
      <div flex items-center gap-2>
        <div i-carbon-server-proxy text-2xl mb-2 />
        Nitro åç«¯
      </div>
      <div class="text-sm opacity-70">
        (API / ä»»åŠ¡ / ä¸­é—´ä»¶)
      </div>
    </div>
    <div class="i-carbon-arrow-right text-3xl opacity-50" />
    <div class="p-4 rounded-md bg-orange-500/30">
      <div flex items-center>
        <div i-logos-postgresql text-2xl mb-2 />
        <div i-logos-redis text-2xl mb-2 ml-2 />
      </div>
      <div class="mt-[-8px]">æ•°æ®åº“ & ç¼“å­˜</div>
    </div>
  </div>
</div>

<div v-click class="mt-6 text-xl text-center opacity-90">
  ä»ç”¨æˆ·ç•Œé¢åˆ°æ•°æ®åº“æ“ä½œï¼Œ<span class="text-lime-400 font-bold">ä¸€å¥—TSï¼Œå…¨éƒ¨æå®šï¼</span>
</div>

<!--
åˆšæ‰çš„æŠ€æœ¯æ ˆé‡Œï¼Œå¤§å®¶å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œå‰ç«¯å’Œåç«¯çš„æ ¸å¿ƒéƒ½æ˜¯ Nuxtã€‚è¿™æ­£æ˜¯ Nuxt 3 æœ€å¼ºå¤§çš„èƒ½åŠ›ä¹‹ä¸€ï¼šå‰åç«¯åŒæ„ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°æ¶æ„å›¾)
æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªç®€å•çš„æ¶æ„å›¾ã€‚
ä»å·¦åˆ°å³ï¼Œç”¨æˆ·çš„è¯·æ±‚ä»æµè§ˆå™¨å‘å‡ºï¼Œé¦–å…ˆåˆ°è¾¾æˆ‘ä»¬çš„ Nuxt 3 åº”ç”¨ã€‚
åœ¨è¿™ä¸ª Nuxt åº”ç”¨å†…éƒ¨ï¼Œå®ƒå…¶å®åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†æ˜¯å¤§å®¶ç†Ÿæ‚‰çš„ Vue ç»„ä»¶ã€Pinia çŠ¶æ€ç®¡ç†ç­‰ï¼Œè´Ÿè´£æ¸²æŸ“ç”¨æˆ·ç•Œé¢ï¼›å¦ä¸€éƒ¨åˆ†åˆ™æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„ Nitro åç«¯ï¼Œå®ƒè´Ÿè´£å¤„ç† API è¯·æ±‚ã€æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€å’Œæ•°æ®åº“äº¤äº’ç­‰ã€‚
Nitro åç«¯å†è¿›ä¸€æ­¥å’Œæˆ‘ä»¬çš„**æ•°æ®åº“ï¼ˆPostgreSQLï¼‰ä»¥åŠç¼“å­˜ï¼ˆRedisï¼‰**è¿›è¡Œé€šä¿¡ï¼Œå®Œæˆæ•°æ®çš„å¢åˆ æ”¹æŸ¥ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°ç»“è®º)
è¿™ç§æ¶æ„æœ€å¤§çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯ä»ç”¨æˆ·ç•Œé¢åˆ°æ•°æ®åº“æ“ä½œï¼Œ**ä¸€å¥— TypeScriptï¼Œå…¨éƒ¨æå®šï¼**ä½ ä¸éœ€è¦å†ç»´æŠ¤ä¸€ä¸ªå‰ç«¯é¡¹ç›®å’Œä¸€ä¸ªåç«¯é¡¹ç›®ï¼Œæ‰€æœ‰çš„ä»£ç éƒ½åœ¨ä¸€ä¸ªä»“åº“é‡Œï¼Œå…±äº«ç±»å‹å®šä¹‰ï¼Œå¼€å‘ä½“éªŒæåº¦èˆ’é€‚ã€‚
-->

---
layout: default
---

# åç«¯äº®ç‚¹ (1): Drizzle ORM

å‘Šåˆ«æ‰‹å†™ SQL å’Œç¹ççš„ç±»å‹å®šä¹‰ï¼Œäº«å—å®Œå…¨çš„**ç±»å‹å®‰å…¨**ï¼

<div class="grid grid-cols-2 gap-4 mt-4">
<div>
<h4 class="font-bold mb-2">å®šä¹‰ Schema (`schemas.ts`)</h4>

```ts {all|2-3|5|10|13}
// server/database/schemas.ts
export const users = fundSchema.table('users', {
  id: bigserial('id', { mode: 'number' }).primaryKey(),
  username: text('username').notNull().unique(),
  password: text('password').notNull(),
})

export const holdings = fundSchema.table('holdings', {
  userId: bigint('user_id', { mode: 'number' }).notNull()
    .references(() => users.id),
  fundCode: varchar('fund_code', { length: 10 }).notNull()
    .references(() => funds.code),
  shares: numeric('shares'),
})
```
</div>
<div>
<h4 class="font-bold mb-2">æŸ¥è¯¢æ•°æ® (ç±»å‹è‡ªåŠ¨æ¨æ–­)</h4>

```ts {all|2|5-9}
// server/utils/holdings.ts
const userHoldings = await db.query.holdings.findMany({
  where: eq(holdings.userId, userId),
  // å°±åƒ GraphQL ä¸€æ ·ï¼Œå£°æ˜å¼åœ°å…³è”æŸ¥è¯¢ï¼
  with: {
    fund: true, // è‡ªåŠ¨ join funds è¡¨
  },
})

// userHoldings çš„ç±»å‹æ˜¯...
// (Holding & { fund: Fund | null; })[]
// æ‰€æœ‰å­—æ®µå’Œç±»å‹éƒ½ç”± Drizzle è‡ªåŠ¨æ¨æ–­ï¼
```
</div>
</div>

<!--
åœ¨åç«¯æŠ€æœ¯é€‰å‹ä¸­ï¼Œæˆ‘ç‰¹åˆ«æƒ³å’Œå¤§å®¶åˆ†äº«ä¸¤ä¸ªè®©æˆ‘è§‰å¾—ä½“éªŒéå¸¸æ£’çš„äº®ç‚¹ã€‚ç¬¬ä¸€ä¸ªå°±æ˜¯ Drizzle ORMã€‚
å¦‚æœä½ ç”¨è¿‡å…¶ä»–çš„ ORMï¼Œå¯èƒ½ä¼šè¢«å¤æ‚çš„é…ç½®å’Œä¸ç¡®å®šçš„è¿”å›ç±»å‹æ‰€å›°æ‰°ã€‚ä½† Drizzle çœŸæ­£åšåˆ°äº†å®Œå…¨çš„ç±»å‹å®‰å…¨ã€‚
(æŒ‡å‘å·¦ä¾§ä»£ç )
æˆ‘ä»¬çœ‹å·¦è¾¹ï¼Œè¿™æ˜¯å®šä¹‰æ•°æ®è¡¨ç»“æ„çš„ä»£ç ã€‚æˆ‘ä»¬ç”¨ TypeScript çš„æ–¹å¼æ¥å®šä¹‰ users è¡¨å’Œ holdings è¡¨ï¼Œæ¯ä¸ªå­—æ®µçš„ç±»å‹ã€æ˜¯å¦ä¸ºç©ºã€æ˜¯å¦æ˜¯å¤–é”®éƒ½ä¸€æ¸…äºŒæ¥šã€‚
(æŒ‡å‘å³ä¾§ä»£ç )
ç¥å¥‡çš„åœ°æ–¹åœ¨å³è¾¹ã€‚å½“æˆ‘ä»¬å»æŸ¥è¯¢æ•°æ®æ—¶ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬æŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„æ‰€æœ‰æŒä»“ï¼Œå¹¶ä¸”é€šè¿‡ with å…³é”®å­—å£°æ˜ï¼Œè¦æŠŠå®ƒå…³è”çš„ fund ä¿¡æ¯ä¹Ÿä¸€èµ·æŸ¥å‡ºæ¥ã€‚
Drizzle ä¼šè‡ªåŠ¨åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥ï¼Œç„¶åæ¨æ–­å‡ºè¿”å›ç»“æœçš„ TypeScript ç±»å‹ï¼ä½ ç”šè‡³ä¸éœ€è¦æ‰‹åŠ¨å»å†™ interface æˆ– typeã€‚è¿™æ„å‘³ç€ä½ åœ¨å†™åç»­çš„ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œæ‰€æœ‰çš„å­—æ®µå’Œç±»å‹éƒ½ä¼šæœ‰æ™ºèƒ½æç¤ºï¼Œå¹¶ä¸”åœ¨ç¼–è¯‘æ—¶å°±ä¼šæ£€æŸ¥é”™è¯¯ï¼Œè¿™æå¤§åœ°æå‡äº†ä»£ç çš„å¥å£®æ€§ã€‚
-->

---
layout: default
---

# åç«¯äº®ç‚¹ (2): Nitro å®šæ—¶ä»»åŠ¡

åˆ©ç”¨ Nitro å†…ç½®çš„ `scheduledTasks`ï¼Œè½»æ¾å®ç°è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚

<div class="grid grid-cols-2 gap-8 mt-4">
<div>
<h4 class="font-bold mb-2">é…ç½®ä»»åŠ¡ (`nuxt.config.ts`)</h4>

```ts {all|5|6|7|12|15|18}
// nuxt.config.ts
const scheduledTasks: Record<string, string[]> = {}

// ä»ç¯å¢ƒå˜é‡è¯»å– Cron è¡¨è¾¾å¼
const syncHistoryCron = env.CRON_FUND_SYNC_HISTORY ?? '0 2 * * *'
const syncEstimateCron = env.CRON_FUND_SYNC_ESTIMATE ?? '* 9-15 * * *'
const runStrategiesCron = env.CRON_FUND_RUN_STRATEGIES ?? '0 6 * * *'

export default defineNuxtConfig({
  nitro: {
    scheduledTasks: {
      // æ¯å¤©å‡Œæ™¨2ç‚¹ï¼ŒåŒæ­¥å†å²æ•°æ®
      [syncHistoryCron]: ['fund:syncHistory'],
      // äº¤æ˜“æ—¶æ®µæ¯åˆ†é’Ÿï¼ŒåŒæ­¥å®æ—¶ä¼°å€¼
      [syncEstimateCron]: ['fund:syncEstimate'],
      // æ¯å¤©æ—©ä¸Š6ç‚¹ï¼Œè¿è¡Œç­–ç•¥åˆ†æ
      [runStrategiesCron]: ['fund:runStrategies'],
    },
    experimental: {
      tasks: true,
    },
  },
})
```
<p v-click class="mt-4 opacity-80 text-sm">å°±åƒ Linux çš„ crontab ä¸€æ ·ç®€å•ï¼Œä½†å®Œå…¨é›†æˆåœ¨ Nuxt é¡¹ç›®ä¸­ï¼</p>
</div>

<div>
<h4 class="font-bold mb-2">ä»»åŠ¡å®ç° (`server/tasks/...`)</h4>

```ts
// server/tasks/fund/syncEstimate.ts
import { syncAllFundsEstimates } from '~~/server/utils/holdings'

export default defineTask({
  meta: {
    name: 'fund:syncEstimate',
    description: 'ç›˜ä¸­å®šæ—¶åŒæ­¥æ‰€æœ‰åŸºé‡‘çš„å®æ—¶ä¼°å€¼',
  },
  async run() {
    // è°ƒç”¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    const result = await syncAllFundsEstimates()

    // ä»»åŠ¡å®Œæˆåï¼Œé€šè¿‡ mitt å‘å‡ºäº‹ä»¶é€šçŸ¥
    if (result.success > 0) {
      emitter.emit('holdings:updated')
    }
    return { result }
  },
})
```
<p v-click class="mt-4 opacity-80 text-sm">ä»»åŠ¡æ‰§è¡Œåï¼Œé€šè¿‡äº‹ä»¶æ€»çº¿é€šçŸ¥å‰ç«¯ï¼Œå®ç°æ•°æ®å®æ—¶æ›´æ–°ï¼</p>
</div>
</div>

<!--
ç¬¬äºŒä¸ªåç«¯äº®ç‚¹ï¼Œæ˜¯ Nitro å†…ç½®çš„å®šæ—¶ä»»åŠ¡åŠŸèƒ½ã€‚
å¯¹äºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ¥è¯´ï¼Œå®šæ—¶ä»»åŠ¡æ˜¯è‡³å…³é‡è¦çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦æ¯å¤©æ”¶ç›˜ååŒæ­¥åŸºé‡‘çš„å†å²å‡€å€¼ï¼Œåœ¨äº¤æ˜“æ—¶æ®µå†…åˆ†é’Ÿçº§åœ°åŒæ­¥å®æ—¶ä¼°å€¼ã€‚
(æŒ‡å‘å·¦ä¾§ä»£ç )
åœ¨ Nuxt ä¸­å®ç°è¿™ä¸ªéœ€æ±‚éå¸¸ç®€å•ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ nuxt.config.ts è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œï¼Œè¿›è¡Œä¸€äº›å£°æ˜ã€‚è¿™é‡Œçš„è¯­æ³•å’Œ Linux çš„ crontab å®Œå…¨ä¸€æ ·ï¼Œä½ å¯ä»¥æŒ‡å®šä»»åŠ¡åœ¨ä½•æ—¶æ‰§è¡Œã€‚æ¯”å¦‚ 0 2 * * * å°±ä»£è¡¨æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œã€‚ç„¶åæŠŠå®ƒå’Œä½ å®šä¹‰çš„ä»»åŠ¡åç§°å…³è”èµ·æ¥ï¼Œæ¯”å¦‚ fund:syncHistoryã€‚
(æŒ‡å‘å³ä¾§ä»£ç )
å…·ä½“çš„ä»»åŠ¡é€»è¾‘ï¼Œæˆ‘ä»¬å†™åœ¨ server/tasks ç›®å½•ä¸‹ã€‚æ¯”å¦‚è¿™ä¸ªåŒæ­¥ä¼°å€¼çš„ä»»åŠ¡ï¼Œå®ƒä¼šå¯¼å‡ºä¸€ä¸ª defineTask å¯¹è±¡ã€‚åœ¨ run æ–¹æ³•é‡Œï¼Œæˆ‘ä»¬è°ƒç”¨æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚è¿™é‡Œçš„ syncAllFundsEstimatesã€‚
æœ€å¦™çš„æ˜¯ï¼Œå½“ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒæˆåŠŸè·å–åˆ°æ–°æ•°æ®åï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…¨å±€çš„äº‹ä»¶æ€»çº¿ emitterï¼Œå‘å‡ºäº†ä¸€ä¸ª holdings:updated çš„äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶ï¼Œå°±æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬è¦è®²çš„å‰ç«¯å®æ—¶æ›´æ–°çš„å…³é”®ã€‚
-->

---
layout: default
---

# å‰ç«¯äº®ç‚¹: SSE å®æ—¶æ›´æ–°

åˆ©ç”¨ `useEventSource` ç»„åˆå¼å‡½æ•°ï¼Œä¼˜é›…åœ°æ¥æ”¶åç«¯æ¨é€çš„å®æ—¶æ•°æ®ã€‚

<div class="grid grid-cols-2 gap-8 mt-4 items-start">

<div v-click>
<h4 class="font-bold mb-2">åç«¯äº‹ä»¶æ¨é€ (`/sse/holdings.get.ts`)</h4>

```ts
// server/routes/api/sse/holdings.get.ts
import { emitter } from '~~/server/utils/emitter'
import { getUserHoldingsAndSummary } from '~~/server/utils/holdings'

export default defineEventHandler(async (event) => {
  const user = getUserFromEvent(event)
  const eventStream = createEventStream(event)

  async function sendUpdate() {
    const data = await getUserHoldingsAndSummary(user.id)
    await eventStream.push(JSON.stringify(data))
  }

  // ç›‘å¬ 'holdings:updated' äº‹ä»¶
  emitter.on('holdings:updated', sendUpdate)

  // ... çœç•¥å…³é—­è¿æ¥æ—¶çš„æ¸…ç†é€»è¾‘
})
```
</div>

<div v-click>
<h4 class="font-bold mb-2">å‰ç«¯ç›‘å¬ (`/pages/index.vue`)</h4>

```ts
// app/pages/index.vue
// 1. å®šä¹‰ SSE è¿æ¥åœ°å€
const sseUrl = ref('/api/sse/holdings')

// 2. ä½¿ç”¨ @vueuse/core æä¾›çš„ useEventSource
const { status, data: sseData, open, close } = useEventSource(
  sseUrl,
  [],
  { withCredentials: true }, // ç¡®ä¿ cookie è¢«å‘é€
)

// 3. ç›‘å¬æ•°æ®å˜åŒ–å¹¶æ›´æ–° Pinia Store
watch(sseData, (newData) => {
  if (newData) {
    const updatedData = JSON.parse(newData)
    // æ›´æ–°æŒä»“å’Œæ±‡æ€»ä¿¡æ¯
    holdingStore.holdings = updatedData.holdings
    holdingStore.summary = updatedData.summary
  }
})
```
</div>

</div>

<div v-click class="mt-6 text-center text-xl opacity-90">
å½“å®šæ—¶ä»»åŠ¡æ›´æ–°æ•°æ®åï¼Œåç«¯ `emit` äº‹ä»¶ï¼Œå‰ç«¯ `watch` è‡ªåŠ¨å“åº”ï¼ŒUI æ— ç¼åˆ·æ–°ï¼
</div>

<!--
å¥½ï¼Œåˆšæ‰æˆ‘ä»¬è¯´åˆ°ï¼Œåç«¯å®šæ—¶ä»»åŠ¡åœ¨æ›´æ–°å®Œæ•°æ®åï¼Œä¼šå‘å‡ºä¸€ä¸ªäº‹ä»¶ã€‚é‚£å‰ç«¯æ˜¯å¦‚ä½•æ¥æ”¶åˆ°è¿™ä¸ªé€šçŸ¥å¹¶æ›´æ–°ç•Œé¢çš„å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å°±ç”¨åˆ°äº† SSEï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨å‘é€äº‹ä»¶ã€‚
ç›¸æ¯” WebSocketï¼ŒSSE æ›´è½»é‡ï¼Œéå¸¸é€‚åˆè¿™ç§ä»æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å•å‘æ•°æ®æµåœºæ™¯ã€‚
(æŒ‡å‘å·¦ä¾§ä»£ç )
æˆ‘ä»¬å…ˆçœ‹åç«¯çš„å®ç°ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª /api/sse/holdings çš„è·¯ç”±ã€‚å½“æœ‰å®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªäº‹ä»¶æµã€‚ç„¶åï¼Œå®ƒå°±å¼€å§‹ç›‘å¬æˆ‘ä»¬åˆšæ‰æåˆ°çš„é‚£ä¸ª holdings:updated äº‹ä»¶ã€‚ä¸€æ—¦äº‹ä»¶è¢«è§¦å‘ï¼Œå®ƒå°±ä¼šç«‹åˆ»è°ƒç”¨ sendUpdate å‡½æ•°ï¼ŒæŠŠæœ€æ–°çš„æŒä»“æ•°æ®é€šè¿‡è¿™ä¸ªäº‹ä»¶æµ push ç»™å‰ç«¯ã€‚
(æŒ‡å‘å³ä¾§ä»£ç )
å†æ¥çœ‹å‰ç«¯çš„å®ç°ï¼Œå°±æ›´åŠ ä¼˜é›…äº†ã€‚æˆ‘å€ŸåŠ©äº† @vueuse/core è¿™ä¸ªå¼ºå¤§çš„å·¥å…·åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ª useEventSource ç»„åˆå¼å‡½æ•°ã€‚
æˆ‘ä»¬åªéœ€è¦æŠŠåç«¯çš„ SSE åœ°å€ä¼ ç»™å®ƒï¼Œå®ƒå°±ä¼šè‡ªåŠ¨å»ºç«‹è¿æ¥ã€‚ç„¶åï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª watch æ¥ç›‘å¬ sseData çš„å˜åŒ–ã€‚ä¸€æ—¦åç«¯æ¨é€äº†æ–°çš„æ•°æ®è¿‡æ¥ï¼Œwatch å°±ä¼šè¢«è§¦å‘ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè§£æ JSON æ•°æ®ï¼Œç„¶åè°ƒç”¨ Pinia store çš„ action æ¥æ›´æ–°å…¨å±€çŠ¶æ€ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°åº•éƒ¨æ–‡å­—)
è¿™æ ·ä¸€æ¥ï¼Œä¸€ä¸ªå®Œæ•´çš„å®æ—¶æ›´æ–°é“¾è·¯å°±å½¢æˆäº†ï¼š**åç«¯å®šæ—¶ä»»åŠ¡æ›´æ–°æ•°æ®åº“ -> è§¦å‘äº‹ä»¶ -> SSE æ¨é€ç»™å‰ç«¯ -> å‰ç«¯ watch è‡ªåŠ¨å“åº” -> UI æ— ç¼åˆ·æ–°ï¼**æ•´ä¸ªè¿‡ç¨‹ç”¨æˆ·æ˜¯æ— æ„Ÿçš„ï¼Œä½“éªŒéå¸¸æµç•…ã€‚
-->

---
layout: center
---

# ğŸš€ å¿«é€Ÿä¸Šæ‰‹ & éƒ¨ç½²

é¡¹ç›®å·²å®Œå…¨ Docker åŒ–ï¼Œéƒ¨ç½²ä»æœªå¦‚æ­¤ç®€å•ï¼

<div class="text-left mt-8 max-w-xl mx-auto space-y-6">
  <div v-click>
    <h3 class="font-bold text-lg mb-1">1. å¼€å‘æ¨¡å¼</h3>
    <p class="text-sm opacity-70 mb-2">å…‹éš†é¡¹ç›®ï¼Œå®‰è£…ä¾èµ–ï¼Œå¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚</p>
    <code class="block whitespace-pre-wrap p-3 rounded bg-gray-800 text-sm">
      git clone https://github.com/lanseria/fund-investment-assistant.git
      <br>
      pnpm install
      <br>
      pnpm run dev
    </code>
  </div>

  <div v-click>
    <h3 class="font-bold text-lg mb-1">2. Docker éƒ¨ç½² (æ¨è)</h3>
    <p class="text-sm opacity-70 mb-2">ä¸€è¡Œå‘½ä»¤æ„å»ºé•œåƒï¼Œä¸€è¡Œå‘½ä»¤è¿è¡Œå®¹å™¨ã€‚</p>
    <code class="block whitespace-pre-wrap p-3 rounded bg-gray-800 text-sm">
      # æ„å»ºé•œåƒ
      <br>
      docker build -t fund-frontend:latest .
      <br><br>
      # è¿è¡Œå®¹å™¨ (è®°å¾—é…ç½®å¥½ç¯å¢ƒå˜é‡)
      <br>
      docker run -p 3000:3000 -d --name fund-app fund-frontend:latest
    </code>
  </div>
</div>

<!--
èŠäº†è¿™ä¹ˆå¤šæŠ€æœ¯ç»†èŠ‚ï¼Œç›¸ä¿¡æœ‰äº›æœ‹å‹å·²ç»è·ƒè·ƒæ¬²è¯•ï¼Œæƒ³æŠŠå®ƒéƒ¨ç½²èµ·æ¥è‡ªå·±ç©ç©äº†ã€‚
åˆ«æ‹…å¿ƒï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œå› ä¸ºæˆ‘å·²ç»æŠŠå®ƒå®Œå…¨ Docker åŒ–äº†ã€‚
(ç‚¹å‡»ï¼Œå‡ºç°å¼€å‘æ¨¡å¼)
å¦‚æœä½ æƒ³åœ¨æœ¬åœ°è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæˆ–è€…åªæ˜¯æƒ³çœ‹çœ‹æºç ï¼Œé‚£ä¹ˆåªéœ€è¦ä¸‰æ­¥ï¼šgit clone å…‹éš†é¡¹ç›®ï¼Œpnpm install å®‰è£…ä¾èµ–ï¼Œç„¶å pnpm run dev å°±èƒ½æŠŠå¼€å‘æœåŠ¡å™¨è·‘èµ·æ¥äº†ã€‚
(ç‚¹å‡»ï¼Œå‡ºç° Docker éƒ¨ç½²)
ä½†æˆ‘æ›´æ¨èçš„æ–¹å¼æ˜¯ç›´æ¥ç”¨ Docker éƒ¨ç½²ã€‚è¿™åªéœ€è¦ä¸¤è¡Œå‘½ä»¤ã€‚ç¬¬ä¸€è¡Œï¼Œdocker buildï¼ŒæŠŠé¡¹ç›®æ‰“åŒ…æˆä¸€ä¸ªé•œåƒã€‚ç¬¬äºŒè¡Œï¼Œdocker runï¼Œç›´æ¥æŠŠè¿™ä¸ªåº”ç”¨å®¹å™¨è·‘èµ·æ¥ã€‚ä½ åªéœ€è¦æå‰é…ç½®å¥½æ•°æ®åº“åœ°å€ä¹‹ç±»çš„ç¯å¢ƒå˜é‡ï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šæ‹¥æœ‰ä¸€ä¸ªä¸“å±çš„åŸºé‡‘æŠ•èµ„åŠ©æ‰‹äº†ï¼
-->

---
layout: intro
class: text-center pb-5
---

<h1 font-serif important-text-5em>æ„Ÿ è°¢ è§‚ çœ‹</h1>

<div class="mt-8 mb-4 text-xl">
  é¡¹ç›®å·²åœ¨ GitHub å¼€æºï¼Œæ¬¢è¿ <span class="text-yellow-300">Star</span> & <span class="text-lime-300">Fork</span>ï¼
</div>

<div my-10 flex="~ gap-8" items-center justify-center>
  <a href="https://github.com/lanseria/fund-investment-assistant" target="_blank" class="flex items-center gap-2 border-none! font-300">
    <div i-ri-github-line op50 text-2xl />
    <span text-lg>github.com/lanseria/fund-investment-assistant</span>
  </a>
  <a href="https://space.bilibili.com/8487409" target="_blank" class="flex items-center gap-2 border-none! font-300">
    <div i-ri-bilibili-line op50 text-2xl/>
    <span text-lg ws-nowrap>@çˆ±åƒåŒ…å­çš„è¶…</span>
  </a>
</div>

<div class="opacity-70 text-sm">
  æœŸå¾…ä¸å¤§å®¶åœ¨è¯„è®ºåŒºå’Œ GitHub ä¸Šäº¤æµï¼
</div>

<!--
å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œã€‚éå¸¸æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼
è¿™ä¸ªé¡¹ç›®æ‰¿è½½äº†æˆ‘å¯¹äºæŠ€æœ¯çš„çƒ­æƒ…å’Œè§£å†³å®é™…é—®é¢˜çš„æ€è€ƒã€‚
å®ƒç›®å‰å·²ç»åœ¨ GitHub ä¸Šå®Œå…¨å¼€æºï¼Œå¦‚æœä½ è§‰å¾—å®ƒå¯¹ä½ æœ‰ä¸€ç‚¹ç‚¹çš„å¯å‘æˆ–è€…å¸®åŠ©ï¼Œæˆ–è€…ä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰ç‚¹æ„æ€ï¼Œéƒ½éå¸¸æ¬¢è¿ä½ ç»™æˆ‘ä¸€ä¸ª Star å’Œ Forkï¼ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­å®Œå–„å®ƒçš„æœ€å¤§åŠ¨åŠ›ã€‚
å¤§å®¶å¯ä»¥é€šè¿‡å±å¹•ä¸Šçš„é“¾æ¥è®¿é—®é¡¹ç›®ä¸»é¡µï¼Œä¹Ÿå¯ä»¥åœ¨ Bilibili æ‰¾åˆ°æˆ‘ã€‚
å†æ¬¡æ„Ÿè°¢å¤§å®¶çš„æ—¶é—´ï¼ŒæœŸå¾…åœ¨è¯„è®ºåŒºå’Œ GitHub ä¸Šä¸å¤§å®¶äº¤æµï¼è°¢è°¢ï¼
-->
